<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Undangan Buka Bersama PGA ‚Äì SHE</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Poppins',sans-serif;scroll-behavior:smooth;overflow-x:hidden;background:#0f172a}
section{min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;padding:80px 20px;position:relative}

.hero{
background:
linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.75)),
url('bg-ramadhan.jpg');
background-size:cover;
background-position:center;
color:white;
}

.overlay-content{
max-width:850px;
animation:fadeUp 1.5s ease;
}

@keyframes fadeUp{
from{opacity:0;transform:translateY(50px)}
to{opacity:1;transform:translateY(0)}
}

h1{
font-family:'Playfair Display',serif;
font-size:42px;
color:#facc15;
margin-bottom:25px;
}

.subtitle{
line-height:1.9;
font-size:18px;
opacity:0.95;
}

.card-section{
background:#0f172a;
}

.card{
background:rgba(15,23,42,0.85);
backdrop-filter:blur(6px);
border:1px solid rgba(250,204,21,0.3);
border-radius:30px;
padding:60px 45px;
max-width:900px;
width:100%;
box-shadow:0 30px 60px rgba(0,0,0,0.4);
color:white;
}

.card h2{
font-family:'Playfair Display',serif;
color:#facc15;
margin-bottom:25px;
}

.info{margin:10px 0;font-size:16px}
.highlight{color:#facc15;font-weight:600}

input,select{
width:100%;padding:14px;margin:10px 0;border-radius:12px;border:none;font-size:14px
}

.btn{
margin-top:15px;background:#facc15;border:none;padding:14px 28px;border-radius:25px;font-size:15px;cursor:pointer;font-weight:600
}

.btn:hover{background:#eab308}
.btn:disabled{opacity:0.7;cursor:not-allowed}

/* Spinner */
.spinner {
display:inline-block;
width:16px;
height:16px;
border:3px solid rgba(0,0,0,0.2);
border-top:3px solid #000;
border-radius:50%;
animation:spin 0.7s linear infinite;
margin-left:8px;
}

@keyframes spin{
to{transform:rotate(360deg)}
}

.table-section{background:#0f172a;color:white;flex-direction:column}
table{width:100%;max-width:900px;margin-top:20px;border-collapse:collapse}
th,td{padding:10px;border:1px solid #444;font-size:14px}
th{background:#1e293b}

.footer{
background:linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.9)),
url('bg-ramadhan.jpg');
background-size:cover;
background-position:center;
color:white;
}

.footer h2{font-family:'Playfair Display',serif;color:#facc15;margin-bottom:20px}
.footer p{max-width:800px;line-height:1.8}

.music-btn{
position:fixed;
bottom:20px;
right:20px;
z-index:999;
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8b5b0f6f7.mp3?filename=ramadan-background-110624.mp3" type="audio/mpeg">
</audio>

<button class="btn music-btn" id="playMusicBtn" style="display:none">
üéµ Aktifkan Musik
</button>

<section class="hero">
<div class="overlay-content">
<h1>üåô Undangan Buka Bersama Department PGA ‚Äì SHE üåô</h1>
<p class="subtitle">
Dalam rangka mempererat tali silaturahmi dan memperkuat kebersamaan di bulan suci Ramadan,
kami mengundang seluruh rekan-rekan Department PGA ‚Äì SHE untuk hadir pada acara Buka Bersama.
<br><br>
Semoga momen ini menjadi kesempatan indah untuk berbagi cerita, tawa, dan energi positif
serta mempererat hubungan kekeluargaan antar rekan kerja.
</p>
</div>
</section>

<section class="card-section">
<div class="card">
<h2>Detail Acara</h2>
<p class="info">üìÖ Rabu 11 Maret 2026</p>
<p class="info">üìç Collaboration Center TMMIN Plant 1</p>
<p class="info">üïî 17.00 WIB ‚Äì selesai</p>
<p class="info">üïå Perkiraan Adzan: 18.09 WIB</p>

<h2 style="margin-top:30px">Iuran Kebersamaan</h2>
<p class="info">‚Ä¢ Kelas 1‚Äì6 : Rp100.000</p>
<p class="info">‚Ä¢ Kelas 7‚Äì8 : Rp200.000</p>
<p class="info">‚Ä¢ Kelas 9 ke atas : Rp300.000</p>
<p class="info highlight">‚è≥ Deadline: 5 Maret 2026</p>
<p class="info highlight">üè¶ Permata Bank 9913401244</p>

<h2 style="margin-top:40px">Konfirmasi Kehadiran</h2>
<input type="text" id="nama" placeholder="Nama Lengkap">
<input type="text" id="noreg" placeholder="No Reg (7 Digit)" maxlength="7">
<select id="status">
<option value="Hadir">Hadir</option>
<option value="Tidak Hadir">Tidak Hadir</option>
</select>
<button class="btn" onclick="simpanData(event)">Kirim Konfirmasi</button>
</div>
</section>

<section class="table-section">
<h2>Rekap Konfirmasi</h2>
<p id="summary" style="margin-top:15px;font-weight:600;color:#facc15"></p>
<table id="dataTable">
<thead>
<tr>
<th>No</th>
<th>Nama</th>
<th>No Reg</th>
<th>Status</th>
</tr>
</thead>
<tbody></tbody>
</table>
<button class="btn" onclick="downloadCSV(event)">Download Rekap (CSV)</button>
</section>

<section class="footer">
<div>
<h2>Ramadan Kareem ‚ú®</h2>
<p>
Kami menantikan kehadiran rekan-rekan semua.
Semoga kebersamaan ini membawa keberkahan dan mempererat silaturahmi.
Sampai jumpa di acara.
</p>
</div>
</section>

<script>
let data = JSON.parse(localStorage.getItem('bukberData')) || [];
const music = document.getElementById("bgMusic");
const playBtn = document.getElementById("playMusicBtn");

window.addEventListener("load", () => {
music.play().then(()=>{
playBtn.style.display="none";
}).catch(()=>{
playBtn.style.display="block";
});
});

playBtn.addEventListener("click", ()=>{
music.play();
playBtn.style.display="none";
});

function renderTable(){
const tbody = document.querySelector('#dataTable tbody');
tbody.innerHTML = '';

let hadir=0;
let tidak=0;

data.forEach((item,index) => {
if(item.status==="Hadir") hadir++;
else tidak++;

tbody.innerHTML += `
<tr>
<td>${index+1}</td>
<td>${item.nama}</td>
<td>${item.noreg}</td>
<td>${item.status}</td>
</tr>`;
});

document.getElementById("summary").innerHTML =
`Total Hadir: ${hadir} | Tidak Hadir: ${tidak}`;
}

function simpanData(e){
const btn = e.target;
btn.disabled=true;
btn.innerHTML="Menyimpan <span class='spinner'></span>";

setTimeout(()=>{
const nama = document.getElementById('nama').value.trim();
const noreg = document.getElementById('noreg').value.trim();
const status = document.getElementById('status').value;

if(nama === '' || noreg.length !== 7){
alert('Isi nama dan No Reg 7 digit dengan benar');
btn.disabled=false;
btn.innerHTML="Kirim Konfirmasi";
return;
}

data.push({nama,noreg,status});
localStorage.setItem('bukberData', JSON.stringify(data));
renderTable();

btn.disabled=false;
btn.innerHTML="Kirim Konfirmasi";

alert('Data berhasil disimpan');
document.getElementById('nama').value='';
document.getElementById('noreg').value='';
},800);
}

function downloadCSV(e){
const btn = e.target;
btn.disabled=true;
btn.innerHTML="Menyiapkan <span class='spinner'></span>";

setTimeout(()=>{
let csv = 'No,Nama,No Reg,Status\n';
data.forEach((row,index) => {
csv += `${index+1},${row.nama},${row.noreg},${row.status}\n`;
});

const blob = new Blob([csv], { type: 'text/csv' });
const link = document.createElement('a');
link.href = URL.createObjectURL(blob);
link.download = 'Rekap_Buka_Bersama.csv';
link.click();

btn.disabled=false;
btn.innerHTML="Download Rekap (CSV)";
},800);
}

renderTable();
</script>

</body>
</html>
